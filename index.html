<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Trading Platform - Умная аналитика для трейдеров</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #151b3d;
            --bg-card: #1a2145;
            --accent: #00d9ff;
            --accent-hover: #00b8d9;
            --text-primary: #ffffff;
            --text-secondary: #8b93b8;
            --success: #00ff88;
            --danger: #ff3366;
            --border: #2a3351;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        body.light-theme {
            --bg-primary: #f5f7fa;
            --bg-secondary: #ffffff;
            --bg-card: #ffffff;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --border: #e0e0e0;
        }

        header {
            background: var(--bg-secondary);
            padding: 1rem 2rem;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent), #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 500;
        }

        .nav-links a:hover, .nav-links a.active {
            color: var(--accent);
        }

        .theme-toggle {
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-toggle:hover {
            background: var(--accent);
            border-color: var(--accent);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .hero {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            font-size: 1.5rem;
        }

        .chart-container {
            position: relative;
            height: 400px;
        }

        .stock-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .stock-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            transition: transform 0.2s;
            cursor: pointer;
        }

        .stock-item:hover {
            transform: translateX(5px);
        }

        .stock-info {
            display: flex;
            flex-direction: column;
        }

        .stock-ticker {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .stock-name {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stock-price {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .price {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .change {
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .change.positive {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
        }

        .change.negative {
            background: rgba(255, 51, 102, 0.1);
            color: var(--danger);
        }

        .ai-chat {
            margin-top: 3rem;
        }

        .chat-container {
            height: 500px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            padding: 1rem;
            border-radius: 12px;
            max-width: 80%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            background: var(--accent);
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }

        .message.ai {
            background: var(--bg-card);
            border: 1px solid var(--border);
            align-self: flex-start;
        }

        .chat-input-container {
            display: flex;
            gap: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .send-btn {
            padding: 1rem 2rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .send-btn:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .section {
            margin: 3rem 0;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        .news-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .news-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }

        .news-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .news-meta {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .ai-comment {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid var(--accent);
            margin-top: 1rem;
            font-style: italic;
        }

        .trending-widget {
            background: linear-gradient(135deg, var(--accent), #0099ff);
            padding: 2rem;
            border-radius: 16px;
            color: white;
            margin: 3rem 0;
        }

        .trending-tags {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border);
        }

        .tab {
            padding: 1rem 2rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .tab:hover {
            color: var(--accent);
        }

        .quick-suggestions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .suggestion-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .suggestion-btn:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        @media (max-width: 768px) {
            .hero {
                grid-template-columns: 1fr;
            }

            .nav-links {
                gap: 1rem;
                font-size: 0.9rem;
            }

            .news-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 1rem;
            }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">📈 AI Trading Platform</div>
            <div class="nav-links">
                <a href="#" class="active" data-page="home">Главная</a>
                <a href="#" data-page="analytics">Аналитика</a>
                <a href="#" data-page="news">Новости</a>
                <a href="#" data-page="stocks">Популярные акции</a>
                <button class="theme-toggle" onclick="toggleTheme()">🌓 Тема</button>
            </div>
        </nav>
    </header>

    <div class="container">
        <div id="homePage">
            <div class="hero">
                <div class="card">
                    <h2>📊 S&P 500 Index</h2>
                    <div class="chart-container">
                        <canvas id="marketChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2>🔥 Популярные акции</h2>
                    <div class="stock-list" id="stockList"></div>
                </div>
            </div>

            <div class="trending-widget">
                <h2>🎯 Что в тренде сегодня</h2>
                <p>Трейдеры чаще всего интересуются:</p>
                <div class="trending-tags">
                    <span class="tag">Nvidia +5.2%</span>
                    <span class="tag">Apple</span>
                    <span class="tag">Нефть WTI</span>
                    <span class="tag">Tesla</span>
                    <span class="tag">Bitcoin</span>
                </div>
            </div>

            <div class="ai-chat card">
                <h2>🤖 AI-Советник трейдера</h2>
                <div class="quick-suggestions">
                    <button class="suggestion-btn" onclick="askAI('Что думаешь о Tesla на этой неделе?')">Анализ Tesla</button>
                    <button class="suggestion-btn" onclick="askAI('Какие акции сейчас перекуплены?')">Перекупленность</button>
                    <button class="suggestion-btn" onclick="askAI('Прогноз по технологическому сектору')">Tech сектор</button>
                </div>
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            Привет! Я AI-аналитик фондового рынка. Могу помочь с анализом акций, технических индикаторов и рыночных трендов. Помни: мои советы не являются финансовыми рекомендациями. Задай мне вопрос!
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Спросите об акциях, рынке, трендах...">
                        <button class="send-btn" onclick="sendMessage()">Отправить</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="newsPage" class="section" style="display:none;">
            <h2>📰 Последние новости рынка</h2>
            <div class="news-grid" id="newsGrid"></div>
        </div>

        <div id="analyticsPage" class="section" style="display:none;">
            <h2>📈 Аналитика рынка</h2>
            <div class="tabs">
                <button class="tab active">Технический анализ</button>
                <button class="tab">Секторы</button>
                <button class="tab">Индикаторы</button>
            </div>
            <div class="card">
                <h3>AI-Анализ текущей ситуации</h3>
                <p style="margin-top: 1rem; line-height: 1.8;">
                    Рынки демонстрируют смешанную динамику. S&P 500 находится в зоне консолидации после сильного роста. 
                    Технологический сектор показывает относительную силу, особенно акции связанные с AI. 
                    RSI индекс указывает на нейтральные значения около 55, что означает отсутствие явной перекупленности.
                </p>
                <div style="margin-top: 2rem;">
                    <h4>Уровни поддержки/сопротивления:</h4>
                    <ul style="margin-top: 1rem; margin-left: 2rem; color: var(--text-secondary);">
                        <li>Сопротивление: 4,850 - 4,900</li>
                        <li>Текущий уровень: 4,780</li>
                        <li>Поддержка: 4,650 - 4,700</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="stocksPage" class="section" style="display:none;">
            <h2>🎯 Популярные акции</h2>
            <div class="tabs">
                <button class="tab active" onclick="filterStocks('day')">Сегодня</button>
                <button class="tab" onclick="filterStocks('week')">Неделя</button>
                <button class="tab" onclick="filterStocks('month')">Месяц</button>
            </div>
            <div class="card">
                <h3>Топ по росту</h3>
                <div class="stock-list" id="topGainers"></div>
            </div>
            <div class="card" style="margin-top: 2rem;">
                <h3>Топ по объёму торгов</h3>
                <div class="stock-list" id="topVolume"></div>
            </div>
        </div>
    </div>

    <script>
        const stocks = [
            { ticker: 'AAPL', name: 'Apple Inc.', price: 178.32, change: 2.45 },
            { ticker: 'NVDA', name: 'NVIDIA Corp.', price: 498.21, change: 5.23 },
            { ticker: 'TSLA', name: 'Tesla Inc.', price: 248.55, change: -1.84 },
            { ticker: 'MSFT', name: 'Microsoft Corp.', price: 378.91, change: 1.67 },
            { ticker: 'GOOGL', name: 'Alphabet Inc.', price: 141.23, change: 0.89 }
        ];

        const news = [
            { title: 'ФРС сохранила ставку на уровне 5.25-5.5%', date: '29 сентября 2025', comment: 'Эта новость может снизить волатильность на рынке облигаций и поддержать акции роста.' },
            { title: 'NVIDIA представила новые AI-чипы', date: '28 сентября 2025', comment: 'Ожидается рост акций NVDA и всего технологического сектора на 2-3%.' },
            { title: 'Цены на нефть выросли до $95 за баррель', date: '28 сентября 2025', comment: 'Положительно для энергетического сектора, негативно для авиакомпаний.' },
            { title: 'Apple объявила о новой программе выкупа акций', date: '27 сентября 2025', comment: 'Может поддержать цену акций AAPL в краткосрочной перспективе.' }
        ];

        function renderStocks() {
            const stockList = document.getElementById('stockList');
            stockList.innerHTML = stocks.map(stock => `
                <div class="stock-item">
                    <div class="stock-info">
                        <div class="stock-ticker">${stock.ticker}</div>
                        <div class="stock-name">${stock.name}</div>
                    </div>
                    <div class="stock-price">
                        <div class="price">$${stock.price.toFixed(2)}</div>
                        <div class="change ${stock.change > 0 ? 'positive' : 'negative'}">
                            ${stock.change > 0 ? '↑' : '↓'} ${Math.abs(stock.change).toFixed(2)}%
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderNews() {
            const newsGrid = document.getElementById('newsGrid');
            newsGrid.innerHTML = news.map(item => `
                <div class="news-card">
                    <div class="news-title">${item.title}</div>
                    <div class="news-meta">📅 ${item.date}</div>
                    <div class="ai-comment">
                        <strong>AI-комментарий:</strong> ${item.comment}
                    </div>
                </div>
            `).join('');
        }

        function createChart() {
            const ctx = document.getElementById('marketChart').getContext('2d');
            const data = Array.from({length: 30}, (_, i) => 4700 + Math.random() * 100);
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 30}, (_, i) => `День ${i+1}`),
                    datasets: [{
                        label: 'S&P 500',
                        data: data,
                        borderColor: '#00d9ff',
                        backgroundColor: 'rgba(0, 217, 255, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#8b93b8' }
                        },
                        x: {
                            grid: { display: false },
                            ticks: { color: '#8b93b8' }
                        }
                    }
                }
            });
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;
            
            askAI(message);
            input.value = '';
        }

        function askAI(question) {
            const chatMessages = document.getElementById('chatMessages');
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.textContent = question;
            chatMessages.appendChild(userMsg);
            
            const aiMsg = document.createElement('div');
            aiMsg.className = 'message ai';
            aiMsg.innerHTML = '<div class="loading"></div>';
            chatMessages.appendChild(aiMsg);
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            setTimeout(() => {
                const responses = {
                    'tesla': 'Анализ Tesla: Акция находится в нисходящем тренде с уровня $265. Текущая цена $248 близка к поддержке $245. RSI показывает 42, что указывает на возможность отскока. Рекомендую ждать подтверждения разворота с объёмом.',
                    'default': `Анализирую ваш запрос... На основе текущих данных: рынок находится в фазе консолидации. Рекомендую следить за уровнями поддержки/сопротивления и объёмами торгов. Помните: это не финансовый совет, а аналитическая информация.`
                };
                
                const response = question.toLowerCase().includes('tesla') ? responses.tesla : responses.default;
                aiMsg.textContent = response;
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1500);
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
        }

        function filterStocks(period) {
            document.querySelectorAll('.tabs .tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }

        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                document.querySelectorAll('.nav-links a').forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                const page = link.dataset.page;
                document.querySelectorAll('[id$="Page"]').forEach(p => p.style.display = 'none');
                if (page === 'home') {
                    document.getElementById('homePage').style.display = 'block';
                } else {
                    document.getElementById(page + 'Page').style.display = 'block';
                }
            });
        });

        const topGainers = [
            { ticker: 'NVDA', name: 'NVIDIA Corp.', price: 498.21, change: 5.23 },
            { ticker: 'AMD', name: 'AMD Inc.', price: 128.45, change: 4.12 },
            { ticker: 'PLTR', name: 'Palantir Tech', price: 18.76, change: 3.89 }
        ];

        const topVolume = [
            { ticker: 'AAPL', name: 'Apple Inc.', price: 178.32, volume: '120M' },
            { ticker: 'TSLA', name: 'Tesla Inc.', price: 248.55, volume: '95M' },
            { ticker: 'MSFT', name: 'Microsoft Corp.', price: 378.91, volume: '78M' }
        ];

        function renderTopStocks() {
            document.getElementById('topGainers').innerHTML = topGainers.map(stock => `
                <div class="stock-item">
                    <div class="stock-info">
                        <div class="stock-ticker">${stock.ticker}</div>
                        <div class="stock-name">${stock.name}</div>
                    </div>
                    <div class="stock-price">
                        <div class="price">$${stock.price.toFixed(2)}</div>
                        <div class="change positive">↑ ${stock.change.toFixed(2)}%</div>
                    </div>
                </div>
            `).join('');

            document.getElementById('topVolume').innerHTML = topVolume.map(stock => `
                <div class="stock-item">
                    <div class="stock-info">
                        <div class="stock-ticker">${stock.ticker}</div>
                        <div class="stock-name">${stock.name}</div>
                    </div>
                    <div class="stock-price">
                        <div class="price">$${stock.price.toFixed(2)}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Vol: ${stock.volume}</div>
                    </div>
                </div>
            `).join('');
        }

        renderStocks();
        renderNews();
        renderTopStocks();
        createChart();
    </script>
</body>
</html>